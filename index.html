<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMARTFLOW | Hệ Thống Giao Thông AI & IoT</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #030508;
            --bg-panel: #0b101a;
            --primary: #00f0ff;
            --secondary: #7000ff;
            --accent: #ff0055;
            --text-main: #ffffff;
            --text-muted: #9ca3af;
            --glass: rgba(11, 16, 26, 0.7);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* TYPOGRAPHY */
        .brand-font { font-family: 'Orbitron', sans-serif; text-transform: uppercase; letter-spacing: 1px; }
        .gradient-text { background: linear-gradient(90deg, #fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* NAVBAR */
        header { position: fixed; top: 0; width: 100%; z-index: 1000; background: rgba(3, 5, 8, 0.95); backdrop-filter: blur(15px); border-bottom: 1px solid rgba(255,255,255,0.05); padding: 10px 0; transition: all 0.3s ease; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .navbar { display: flex; justify-content: space-between; align-items: center; height: 90px; }
        
        .brand-container { display: flex; align-items: center; gap: 15px; text-decoration: none; }
        .logo-img { height: 70px; width: auto; border-radius: 12px; border: 2px solid rgba(255,255,255,0.1); background: #fff; padding: 3px; transition: 0.3s; }
        .logo-text { font-size: 1.6rem; font-weight: 900; color: var(--text-main); display: flex; flex-direction: column; line-height: 1; }
        .logo-text span.main { font-family: 'Orbitron'; letter-spacing: 1px; }
        .logo-text span.sub { font-size: 0.75rem; color: var(--text-muted); font-weight: 400; letter-spacing: 2px; margin-top: 5px; }
        .brand-container:hover .logo-img { transform: scale(1.05); box-shadow: 0 0 20px var(--primary); border-color: var(--primary); }

        .nav-links { display: flex; gap: 30px; list-style: none; }
        .nav-links a { color: var(--text-muted); text-decoration: none; font-weight: 500; font-size: 0.95rem; text-transform: uppercase; position: relative; transition: 0.3s; }
        .nav-links a:hover, .nav-links a.active { color: var(--primary); }
        .hamburger { display: none; font-size: 2rem; color: var(--text-main); cursor: pointer; }

        /* HERO */
        .hero { padding-top: 160px; padding-bottom: 80px; min-height: 100vh; display: flex; align-items: center; position: relative; overflow: hidden; }
        .hero-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at 80% 20%, #1a103c 0%, var(--bg-dark) 60%); }
        .hero-content { max-width: 650px; z-index: 2; padding-right: 20px; }
        .hero h1 { font-size: 3.5rem; line-height: 1.2; margin-bottom: 20px; text-transform: uppercase; }
        .hero p { font-size: 1.1rem; color: var(--text-muted); margin-bottom: 30px; border-left: 3px solid var(--secondary); padding-left: 20px; }
        
        .btn-main { padding: 14px 35px; background: var(--primary); color: #000; font-weight: 800; text-decoration: none; display: inline-block; border-radius: 5px; box-shadow: 0 0 20px rgba(0, 240, 255, 0.2); transition: 0.3s; margin-right: 15px; text-transform: uppercase; }
        .btn-main i { font-size: 0.8rem; margin-right: 5px; }
        .btn-main:hover { transform: translateY(-3px); box-shadow: 0 0 30px var(--primary); background: #fff; }

        /* SECTIONS */
        .section-padding { padding: 100px 0; }
        .section-title { text-align: center; margin-bottom: 70px; }
        .section-title h2 { font-size: 2.8rem; margin-bottom: 15px; }
        .section-title span { color: var(--primary); font-size: 0.9rem; letter-spacing: 3px; text-transform: uppercase; font-weight: bold; }
        .section-title p { color: var(--text-muted); max-width: 600px; margin: 0 auto; font-size: 1.1rem; }

        /* TECH GRID */
        .tech-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .tech-card { background: var(--bg-panel); padding: 30px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.05); transition: 0.4s; position: relative; overflow: hidden; cursor: pointer; }
        .tech-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.5); border-color: var(--primary); }
        .tech-card i.icon-main { font-size: 3rem; color: var(--text-main); margin-bottom: 20px; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .tech-card h3 { margin-bottom: 10px; font-size: 1.3rem; color: var(--text-main); }
        .tech-card p { font-size: 0.95rem; color: var(--text-muted); line-height: 1.6; margin-bottom: 5px; }
        
        /* READ MORE LINK STYLE - ĐÃ XÓA MŨI TÊN */
        .read-more-btn { 
            display: block; 
            margin-top: 0px;
            color: var(--primary); 
            font-size: 0.75rem; 
            font-weight: bold; 
            text-transform: uppercase; 
            opacity: 0.9;
        }

        /* MODAL */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px); justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s ease; }
        .modal.show { display: flex; opacity: 1; }
        .modal-content { background: #0e141f; border: 1px solid var(--primary); border-radius: 20px; width: 90%; max-width: 900px; max-height: 90vh; overflow-y: auto; position: relative; padding: 40px; box-shadow: 0 0 50px rgba(0, 240, 255, 0.2); transform: scale(0.8); transition: transform 0.3s ease; }
        .modal.show .modal-content { transform: scale(1); }
        .close-btn { position: absolute; top: 20px; right: 25px; color: #fff; font-size: 30px; font-weight: bold; cursor: pointer; transition: 0.3s; z-index: 10; }
        .close-btn:hover { color: var(--accent); }
        .modal-header h3 { font-family: 'Orbitron'; color: var(--primary); font-size: 2rem; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; }
        .modal-body { color: #d1d5db; font-size: 1.1rem; line-height: 1.8; text-align: justify; }
        .modal-body strong { color: #fff; }

        /* IMAGE GRIDS */
        .modal-grid-5 { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin: 30px 0; }
        .modal-grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 30px 0; } 
        .modal-grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
        .modal-grid-1 { display: flex; justify-content: center; margin: 30px 0; }
        
        .modal-img-wrapper { border: 2px solid #333; border-radius: 10px; overflow: hidden; background: #000; transition: 0.3s; cursor: zoom-in; } 
        .modal-img-wrapper:hover { border-color: var(--primary); transform: scale(1.02); }
        .modal-img-wrapper img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .caption { text-align: center; font-size: 0.75rem; color: #888; padding: 5px; background: #111; font-style: italic; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* ASPECT RATIOS */
        .ratio-16-9 { aspect-ratio: 16/9; }
        .ratio-phone { aspect-ratio: 9/19; max-width: 300px; margin: 0 auto; }
        .ratio-square { aspect-ratio: 1/1; }
        /* Tỷ lệ ảnh chi phí: 2:3 (Rộng hơn 1:3 thêm 1/3 chiều rộng) */
        .ratio-tall { aspect-ratio: 2/3; max-width: 500px; margin: 0 auto; width: 100%; }

        /* LIGHTBOX */
        .lightbox { display: none; position: fixed; z-index: 3000; padding-top: 50px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.95); }
        .lightbox-content { margin: auto; display: block; max-width: 90%; max-height: 90vh; animation: zoom 0.6s; border: 2px solid var(--primary); border-radius: 10px; }
        .lightbox-close { position: absolute; top: 15px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; transition: 0.3s; cursor: pointer; }
        .lightbox-close:hover { color: var(--accent); }
        @keyframes zoom { from {transform:scale(0)} to {transform:scale(1)} }

        /* USP SECTION */
        .philosophy-container { display: flex; gap: 50px; align-items: center; justify-content: space-between; margin-top: 50px; flex-direction: row; }
        .philo-visual { width: 45%; height: 450px; background: #0b101a; border: 1px solid rgba(255,255,255,0.1); position: relative; display: flex; justify-content: center; align-items: center; border-radius: 20px; overflow: hidden; flex-shrink: 0; }
        .circle { position: absolute; border: 1px solid var(--secondary); border-radius: 50%; animation: ripple 4s infinite linear; }
        @keyframes ripple { 0% { width: 0; height: 0; opacity: 1; border-width: 5px; } 100% { width: 400px; height: 400px; opacity: 0; border-width: 0px; } }
        .philo-content { width: 50%; display: flex; flex-direction: column; }
        .usp-list { padding: 0; margin: 0; }
        .usp-list li { 
            list-style: none; margin-bottom: 20px; display: flex; gap: 15px; 
            background: rgba(255,255,255,0.02); padding: 15px 20px; 
            border-radius: 15px; border: 1px solid transparent; transition: 0.3s; 
            align-items: flex-start; cursor: pointer;
        }
        .usp-list li:hover { border-color: var(--primary); background: rgba(0, 240, 255, 0.05); transform: translateX(5px); box-shadow: 0 0 20px rgba(0,240,255,0.1); }
        .usp-list i { color: var(--primary); font-size: 1.8rem; margin-top: 5px; flex-shrink: 0; }
        .usp-list div { width: 100%; }
        .usp-list p { margin-bottom: 0; font-size: 0.9rem; }

        /* SIMULATOR & FOOTER */
        .sim-section { background: #000; border-top: 1px solid #111; border-bottom: 1px solid #111; }
        .sim-dashboard { background: #0e141f; border: 1px solid #333; border-radius: 20px; padding: 50px; max-width: 1000px; margin: 0 auto; display: flex; gap: 60px; flex-wrap: wrap; box-shadow: 0 0 80px rgba(0,0,0,0.6); }
        .sim-controls { flex: 1; min-width: 300px; }
        .sim-display { flex: 1; min-width: 300px; text-align: center; position: relative; }
        .traffic-pole { background: #151515; width: 120px; padding: 20px; border-radius: 15px; margin: 0 auto 30px; display: flex; flex-direction: column; gap: 20px; border: 3px solid #333; box-shadow: 10px 10px 30px rgba(0,0,0,0.5); }
        .bulb { width: 80px; height: 80px; background: #2a2a2a; border-radius: 50%; opacity: 0.2; transition: 0.2s; box-shadow: inset 0 0 20px #000; }
        .bulb.red.on { background: #ff0040; opacity: 1; box-shadow: 0 0 50px #ff0040; }
        .bulb.yellow.on { background: #ffea00; opacity: 1; box-shadow: 0 0 50px #ffea00; }
        .bulb.green.on { background: #00ffaa; opacity: 1; box-shadow: 0 0 50px #00ffaa; }
        input[type=range] { width: 100%; height: 6px; background: #333; border-radius: 5px; outline: none; -webkit-appearance: none; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; width: 25px; height: 25px; border-radius: 50%; background: var(--primary); cursor: pointer; box-shadow: 0 0 15px var(--primary); transition: 0.2s; }
        .ai-scan-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; background: linear-gradient(180deg, rgba(0,240,255,0) 0%, rgba(0,240,255,0.1) 50%, rgba(0,240,255,0) 100%); background-size: 100% 200%; display: none; animation: scanMove 1.5s infinite linear; z-index: 10; }
        @keyframes scanMove { 0% { background-position: 0% -100%; } 100% { background-position: 0% 200%; } }

        footer { padding: 80px 0 30px; background: #020305; border-top: 1px solid #111; }
        .footer-content { display: flex; flex-wrap: wrap; gap: 40px; justify-content: space-between; }
        .footer-info h4 { color: var(--text-main); margin-bottom: 20px; font-family: 'Orbitron'; letter-spacing: 1px; }
        .footer-info ul li { list-style: none; margin-bottom: 12px; color: var(--text-muted); display: flex; align-items: center; gap: 10px; }
        .pdf-link { display: inline-flex; align-items: center; gap: 10px; padding: 8px 15px; border: 1px solid var(--accent); border-radius: 5px; color: var(--accent); text-decoration: none; font-weight: bold; font-size: 0.85rem; transition: 0.3s; }
        .pdf-link:hover { background: var(--accent); color: #fff; box-shadow: 0 0 15px var(--accent); }

        @media (max-width: 992px) {
            .navbar { height: 70px; }
            .logo-img { height: 50px; } 
            .nav-links { position: fixed; top: 70px; right: -100%; width: 100%; height: calc(100vh - 70px); background: #000; flex-direction: column; align-items: center; justify-content: center; transition: 0.4s; z-index: 999; }
            .nav-links.active { right: 0; }
            .hamburger { display: block; }
            .hero { flex-direction: column; text-align: center; padding-top: 120px; }
            .philosophy-container { flex-direction: column; gap: 30px; }
            .philo-visual { width: 100%; height: 350px; }
            .philo-content { width: 100%; }
            .sim-dashboard { flex-direction: column; padding: 20px; }
            .modal-grid-5 { grid-template-columns: repeat(2, 1fr); } 
            .modal-grid-3, .modal-grid-2 { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
    </div>

    <header>
        <div class="container navbar">
            <a href="#" class="brand-container">
                <img src="image/logo.jpg" alt="CTech Logo" class="logo-img">
                <div class="logo-text">
                    <span class="main">SMART<span class="highlight">FLOW</span></span>
                    <span class="sub">POWERED BY CTECH</span>
                </div>
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="#core">Công Nghệ</a></li>
                <li><a href="#usp">Ưu Điểm</a></li>
                <li><a href="#simulator">Mô Phỏng</a></li>
                <li><a href="#team">Liên Hệ</a></li>
            </ul>
            <div class="hamburger" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
        </div>
    </header>

    <section class="hero container">
        <div class="hero-bg"></div>
        <div class="hero-content">
            <div style="color: var(--primary); font-weight: bold; margin-bottom: 15px; letter-spacing: 2px; display:inline-block; border: 1px solid var(--primary); padding: 5px 15px; border-radius: 20px;">
                <i class="fas fa-bolt"></i> CTECH INNOVATION
            </div>
            <h1>GIẢI PHÁP <br><span class="gradient-text">AI VÀ IOT CHO GIAO THÔNG THÔNG MINH</span></h1>
            <p>Hệ thống điều khiển tín hiệu thích ứng sử dụng AI Vision và IoT Edge. Giải pháp đột phá cho đô thị thông minh, giảm ùn tắc hiệu quả với chi phí tối thiểu.</p>
            <div style="margin-top: 35px;">
                <a href="#simulator" class="btn-main"><i class="fas fa-play"></i> Xem Demo</a>
                <a href="#core" style="color: var(--text-main); text-decoration: none; font-weight: 600; margin-left: 20px; transition: 0.3s;" onmouseover="this.style.color='#00f0ff'" onmouseout="this.style.color='#fff'">Tìm hiểu thêm <i class="fas fa-arrow-down" style="font-size: 0.8rem;"></i></a>
            </div>
        </div>
        <div style="flex: 1; display: flex; justify-content: center; position: relative;">
            <i class="fas fa-network-wired" style="font-size: 18rem; color: rgba(255,255,255,0.03); animation: pulse 3s infinite;"></i>
            <div style="position: absolute; top: 20%; right: 10%; width: 50px; height: 50px; background: var(--primary); filter: blur(40px); opacity: 0.5;"></div>
            <div style="position: absolute; bottom: 20%; left: 10%; width: 80px; height: 80px; background: var(--secondary); filter: blur(50px); opacity: 0.4;"></div>
        </div>
    </section>

    <section id="core" class="container section-padding">
        <div class="section-title">
            <span>CORE TECHNOLOGY</span>
            <h2>Công Nghệ Lõi</h2>
            <p>Bấm vào từng mục để xem chi tiết quy trình hoạt động.</p>
        </div>
        <div class="tech-grid">
            <div class="tech-card" onclick="openModal('modal-yolo')">
                <i class="fas fa-eye icon-main"></i>
                <h3>YOLOv8 Vision</h3>
                <p>Mắt thần AI xử lý hình ảnh thời gian thực, đếm chính xác số lượng xe và phân loại phương tiện bất kể ngày đêm.</p>
                <span class="read-more-btn">Xem chi tiết</span>
            </div>
            <div class="tech-card" onclick="openModal('modal-rhodes')">
                <i class="fas fa-brain icon-main"></i>
                <h3>RHODES Logic</h3>
                <p>Thuật toán tối ưu hóa phân tán. Tự động tính toán thời gian xanh dựa trên mật độ xe thực tế.</p>
                <span class="read-more-btn">Xem chi tiết</span>
            </div>
            <div class="tech-card" onclick="openModal('modal-iot')">
                <i class="fas fa-wifi icon-main"></i>
                <h3>IoT Edge Control</h3>
                <p>Vi điều khiển ESP32 xử lý tại biên, đảm bảo hoạt động an toàn (Fail-safe) khi mất kết nối.</p>
                <span class="read-more-btn">Xem chi tiết</span>
            </div>
        </div>
    </section>

    <section id="usp" class="container section-padding">
        <div class="section-title">
            <span>WHY CHOOSE US?</span>
            <h2>Tại Sao Chọn <span style="color: var(--primary)">SMARTFLOW?</span></h2>
            <p>Chúng tôi mang đến giải pháp thực tế, tiết kiệm và hiệu quả tức thì.</p>
        </div>
        <div class="philosophy-container">
            <div class="philo-visual">
                <div class="circle" style="animation-delay: 0s;"></div>
                <div class="circle" style="animation-delay: 1.5s;"></div>
                <div class="circle" style="animation-delay: 3s;"></div>
                <i class="fas fa-shield-alt" style="font-size: 6rem; color: var(--text-main); z-index: 2; text-shadow: 0 0 30px rgba(255,255,255,0.2);"></i>
            </div>
            <div class="philo-content">
                <ul class="usp-list">
                    <li onclick="openModal('modal-cost')">
                        <i class="fas fa-coins"></i>
                        <div>
                            <strong style="font-size: 1.2rem; color: #fff;">Chi Phí Cực Thấp</strong>
                            <p style="font-size: 0.95rem; color: #888;">Chỉ ~50 triệu VNĐ/nút giao. Rẻ hơn 10 lần so với hệ thống ITS nhập khẩu.</p>
                            <span class="read-more-btn">Xem chi tiết</span>
                        </div>
                    </li>
                    <li onclick="openModal('modal-eff')">
                        <i class="fas fa-chart-line"></i>
                        <div>
                            <strong style="font-size: 1.2rem; color: #fff;">Hiệu Quả Đã Kiểm Chứng</strong>
                            <p style="font-size: 0.95rem; color: #888;">Thực nghiệm tại nút giao Nguyễn Vịnh – Trần Hữu Khác cho thấy giám sát IoT hiệu quả, AI rút ngắn thời gian chờ so với chu kỳ cố định. Trên mô hình, giảm <strong>34.2%</strong> lượng xe tồn đọng vào giờ cao điểm.</p>
                            <span class="read-more-btn">Xem chi tiết</span>
                        </div>
                    </li>
                    <li onclick="openModal('modal-control')">
                        <i class="fas fa-mobile-alt"></i>
                        <div>
                            <strong style="font-size: 1.2rem; color: #fff;">Điều Khiển Mọi Lúc</strong>
                            <p style="font-size: 0.95rem; color: #888;">Hệ thống Dashboard/App giúp CSGT giám sát và can thiệp thủ công từ xa khi cần thiết.</p>
                            <span class="read-more-btn">Xem chi tiết</span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <section id="simulator" class="sim-section section-padding">
        <div class="section-title">
            <span>LIVE DEMO</span>
            <h2>Mô Phỏng Thuật Toán AI</h2>
            <p>Trải nghiệm khả năng tự thích ứng của SmartFlow ngay trên trình duyệt.</p>
        </div>
        <div class="sim-dashboard">
            <div class="sim-controls">
                <div style="margin-bottom: 40px;">
                    <label style="display:block; margin-bottom: 15px; color: var(--primary); font-family: 'Orbitron'; letter-spacing: 1px;"><i class="fas fa-car"></i> MẬT ĐỘ XE (INPUT):</label>
                    <input type="range" id="carSlider" min="0" max="100" value="30" oninput="updateCarVal(this.value)">
                    <div style="display: flex; justify-content: space-between; margin-top: 10px; font-family: monospace; color: #666;"><span>0</span><span id="carValue" style="color: var(--text-main); font-size: 1.5rem; font-weight: bold;">30</span><span>100</span></div>
                </div>
                <div style="background: rgba(255,255,255,0.03); padding: 25px; border-radius: 10px; font-size: 0.9rem; border: 1px solid rgba(255,255,255,0.05);">
                    <p style="color: var(--text-muted); margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px;">THÔNG SỐ CẤU HÌNH:</p>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;"><span>Ngưỡng thấp (Nmin):</span> <span style="color: var(--primary)">5 xe</span></div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;"><span>Ngưỡng cao (Nmax):</span> <span style="color: var(--accent)">50 xe</span></div>
                    <div style="display: flex; justify-content: space-between;"><span>Max Green (GTmax):</span> <span style="color: #fff;">50s</span></div>
                </div>
                <button onclick="runSim()" class="btn-main" style="width: 100%; margin-top: 30px; text-align: center; cursor: pointer; border: none;"><i class="fas fa-bolt"></i> CHẠY XỬ LÝ AI</button>
            </div>
            <div class="sim-display">
                <div class="ai-scan-overlay" id="aiScan"></div>
                <div id="aiStatus" style="font-family: 'Courier New', monospace; color: var(--primary); margin-bottom: 25px; min-height: 24px; font-weight: bold;">> HỆ THỐNG SẴN SÀNG</div>
                <div class="traffic-pole"><div class="bulb red" id="l-red"></div><div class="bulb yellow" id="l-yellow"></div><div class="bulb green" id="l-green"></div></div>
                <div style="margin-top: 30px;"><span style="color: #666; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px;">Thời gian xanh dự kiến</span><h1 id="timer" style="font-size: 5rem; color: var(--text-main); font-family: 'Orbitron'; line-height: 1; text-shadow: 0 0 20px rgba(255,255,255,0.2);">--</h1></div>
            </div>
        </div>
    </section>

    <footer id="team">
        <div class="container">
            <div class="footer-content">
                <div style="flex: 1.5; min-width: 300px;">
                    <a href="#" class="brand-container" style="margin-bottom: 20px; display: inline-flex;">
                        <img src="image/logo.jpg" alt="Logo" style="height: 40px; border-radius: 5px;">
                        <span style="font-size: 1.2rem; font-weight: 900; color: #fff; margin-left: 10px; align-self: center;">SMARTFLOW</span>
                    </a>
                    <p style="color: #777; line-height: 1.8; margin-bottom: 20px;">
                        Dự án đạt giải Khoa học Kỹ thuật cấp Trường (2025-2026).<br>
                        Giải pháp tiên phong cho hạ tầng giao thông thông minh bền vững.<br>
                        Đã được các cơ quan chức năng cấp phép thử nghiệm tại nút giao Nguyễn Vịnh - Trần Hữu Khác, xã Quảng Điền, Tp Huế.
                    </p>
                    <a href="pdf/phieu_xac_nhan_1.pdf" target="_blank" class="pdf-link">
                        <i class="fas fa-file-contract"></i> Xem Phiếu Xác Nhận
                    </a>
                    <a href="pdf/phieu_xac_nhan_2.pdf" target="_blank" class="pdf-link">
                        <i class="fas fa-file-contract"></i> Xem Phiếu Xác Nhận
                    </a>
                </div>

                <div class="footer-info" style="flex: 1; min-width: 250px;">
                    <h4>NHÓM TÁC GIẢ</h4>
                    <ul>
                        <li><i class="fas fa-user-circle"></i> Đinh Xuân Trường (12/3)</li>
                        <li><i class="fas fa-user-circle"></i> Nguyễn Nhất Nguyên (12/3)</li>
                        <li><i class="fas fa-user-circle"></i> Lê Văn Quốc Hùng (12/8)</li>
                        <li><i class="fas fa-user-circle"></i> Lê Quang Thành (11/3)</li>
                        <li><i class="fas fa-user-circle"></i> Phạm Bảo Minh Hân (10/8)</li>
                        <li style="margin-top: 10px; color: var(--secondary);"><i class="fas fa-chalkboard-teacher"></i> GVHD: ThS. Nguyễn Thị Lan Anh</li>
                    </ul>
                </div>

                <div class="footer-info" style="flex: 1; min-width: 250px;">
                    <h4>THÔNG TIN LIÊN HỆ</h4>
                    <ul>
                        <li>
                            <i class="fas fa-map-marker-alt" style="color: var(--primary)"></i> 
                            <span>11 Đống Đa, TP. Huế</span>
                        </li>
                        
                        <li>
                            <i class="fas fa-phone-alt" style="color: var(--primary)"></i> 
                            <a href="tel:0813514789" style="color: var(--text-muted); text-decoration: none; transition: 0.3s;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='#9ca3af'">
                                0813514789 (Hotline)
                            </a>
                        </li>
                        
                        <li>
                            <i class="fas fa-envelope" style="color: var(--primary)"></i> 
                            <a href="mailto:contact.smartflow@gmail.com" style="color: var(--text-muted); text-decoration: none; transition: 0.3s;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='#9ca3af'">
                                xuantruong.dinh2020@gmail.com
                            </a>
                        </li>
                        
                        <li style="margin-top: 15px;">
                            <a href="https://www.facebook.com/share/1717sfXPjS/?mibextid=wwXIfr" target="_blank" style="display: inline-flex; align-items: center; gap: 10px; color: #fff; text-decoration: none; background: #1877F2; padding: 8px 15px; border-radius: 5px; font-size: 0.9rem; transition: 0.3s;">
                                <i class="fab fa-facebook-f"></i> Fanpage Chính Thức
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 60px; padding-top: 20px; border-top: 1px solid #1a1a1a; font-size: 0.8rem; color: #444;">
                &copy; 2026 CTech Innovation Team. All rights reserved.
            </div>
        </div>
    </footer>

    <div id="modal-yolo" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('modal-yolo')">&times;</span>
            <div class="modal-header"><h3>YOLOv8 Vision (Chi Tiết)</h3></div>
            <div class="modal-body">
                <p>Hệ thống điều khiển đèn giao thông tự thích ứng sử dụng camera giám sát kết hợp mô hình <strong>YOLOv8 (Deep CNN)</strong> cài đặt trên server để phát hiện, phân loại, theo dõi và đếm các đối tượng giao thông theo thời gian thực.</p>
                <p>YOLO nhận dạng phương tiện (xe máy, ô tô, xe tải, xe đạp…) và người đi bộ, đồng thời xác định luồng xe theo từng hướng, đếm số lượng và ước tính thời gian chờ. Các thông tin này được đưa vào thuật toán tối ưu để tính toán thời gian đèn phù hợp cho pha tiếp theo.</p>
                
                <div class="modal-grid-3">
                    <div class="modal-img-wrapper ratio-16-9" onclick="openLightbox(this)"><img src="image/yolo_diagram_1.jpg" alt="YOLO 1"><div class="caption">Phát hiện đối tượng</div></div>
                    <div class="modal-img-wrapper ratio-16-9" onclick="openLightbox(this)"><img src="image/yolo_diagram_2.jpg" alt="YOLO 2"><div class="caption">Phân loại phương tiện</div></div>
                    <div class="modal-img-wrapper ratio-16-9" onclick="openLightbox(this)"><img src="image/yolo_diagram_3.jpg" alt="YOLO 3"><div class="caption">Đếm xe theo làn</div></div>
                </div>

                <p>Nhờ cơ chế điều chỉnh liên tục theo lưu lượng thực tế, hệ thống giúp <strong>giảm ùn tắc</strong> và <strong>tăng hiệu quả vận hành</strong> tại giao lộ.</p>
            </div>
        </div>
    </div>

    <div id="modal-rhodes" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('modal-rhodes')">&times;</span>
            <div class="modal-header"><h3>RHODES Logic</h3></div>
            <div class="modal-body">
                <p>Quy trình hoạt động tham khảo theo <strong>RHODES</strong> gồm 5 bước:</p>
                <ul>
                    <li>(1) Thu thập và chuẩn hóa dữ liệu từ camera/mô phỏng để tạo thông tin lưu lượng theo hướng, mật độ và tốc độ dòng xe.</li>
                    <li>(2) Xác định đầu vào–đầu ra, trong đó đầu vào là số xe từng hướng và thời gian chờ trung bình.</li>
                    <li>(3) Tính toán thời gian xanh tối ưu ($GT_{next}$) dựa trên công thức tuyến tính có chặn.</li>
                    <li>(4) Điều khiển pha đèn tín hiệu thông qua vi điều khiển.</li>
                    <li>(5) Cập nhật trạng thái thực tế.</li>
                </ul>

                <div class="modal-grid-1">
                    <div class="modal-img-wrapper ratio-16-9" style="width: 80%;" onclick="openLightbox(this)">
                        <img src="image/rhodes_diagram_1.jpg" alt="Sơ đồ RHODES">
                        <div class="caption">Sơ đồ thuật toán điều khiển đèn thích ứng</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-iot" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('modal-iot')">&times;</span>
            <div class="modal-header"><h3>Hệ thống điều khiển IoT (ESP32)</h3></div>
            <div class="modal-body">
                <p>Khối điều khiển trung tâm sử dụng <strong>ESP32</strong> đóng vai trò là Gateway IoT và bộ xử lý tại biên. ESP32 nhận dữ liệu từ Server, tính toán logic an toàn (Fail-safe) và điều khiển trực tiếp các Relay đóng ngắt đèn. Đảm bảo hệ thống hoạt động ổn định và có thể giám sát từ xa thông qua giao diện Web/App.</p>
                
                <div class="modal-grid-2">
                    <div class="modal-img-wrapper ratio-16-9" onclick="openLightbox(this)"><img src="image/iot_diagram_1.jpg" alt="IoT 1"><div class="caption">Sơ đồ phần cứng</div></div>
                    <div class="modal-img-wrapper ratio-16-9" onclick="openLightbox(this)"><img src="image/iot_diagram_2.jpg" alt="IoT 2"><div class="caption">Kết nối Relay</div></div>
                </div>

                <p><strong>Giao diện điều khiển trên điện thoại:</strong></p>
                <div class="modal-grid-2">
                    <div class="modal-img-wrapper ratio-phone" onclick="openLightbox(this)"><img src="image/iot_diagram_3.jpg" alt="App View 1"><div class="caption">Dashboard Giám Sát</div></div>
                    <div class="modal-img-wrapper ratio-phone" onclick="openLightbox(this)"><img src="image/iot_diagram_4.jpg" alt="App View 2"><div class="caption">Điều khiển thủ công</div></div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-cost" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('modal-cost')">&times;</span>
            <div class="modal-header"><h3>Tối Ưu Hóa Chi Phí Đầu Tư</h3></div>
            <div class="modal-body">
                <p>Giải pháp <strong>SMARTFLOW</strong> được nghiên cứu để giải quyết bài toán kinh tế trong việc hiện đại hóa cơ sở hạ tầng giao thông. Thay vì phải đầu tư thay thế toàn bộ hệ thống đắt tiền, giải pháp của chúng tôi tập trung vào việc nâng cấp thông minh:</p>
                <ul>
                    <li>Tận dụng hạ tầng tủ điều khiển tín hiệu hiện có.</li>
                    <li>Sử dụng công nghệ Camera AI thay thế cho việc đào đường lắp cảm biến từ (vòng từ) tốn kém và phức tạp.</li>
                    <li>Phần cứng dựa trên vi điều khiển ESP32 hiệu năng cao với chi phí hợp lý.</li>
                </ul>
                <div class="modal-grid-1">
                    <div class="modal-img-wrapper ratio-tall" onclick="openLightbox(this)">
                        <img src="image/cost_1.jpg" alt="Biểu đồ chi phí">
                        <div class="caption">Bảng so sánh chi phí triển khai</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-eff" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('modal-eff')">&times;</span>
            <div class="modal-header"><h3>Kết Quả Thực Nghiệm</h3></div>
            <div class="modal-body">
                <p>Dự án đã tiến hành thu thập dữ liệu và thử nghiệm mô hình tại nút giao <strong>Nguyễn Vịnh – Trần Hữu Khác (TP. Huế)</strong>. Các số liệu đo đạc thực tế cho thấy sự cải thiện đáng kể trong khả năng giải phóng dòng xe:</p>
                <ul>
                    <li>Giảm thiểu lượng xe tồn đọng vào giờ cao điểm lên đến <strong>34.2%</strong> so với chu kỳ đèn cố định.</li>
                    <li>Hệ thống phản ứng linh hoạt với các thay đổi lưu lượng đột ngột.</li>
                </ul>
                <p>Dưới đây là hình ảnh và dữ liệu ghi nhận từ quá trình nghiên cứu:</p>
                
                <div class="modal-grid-5">
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_1.jpg" alt="Eff 1"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_2.jpg" alt="Eff 2"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_3.jpg" alt="Eff 3"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_4.jpg" alt="Eff 4"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_5.jpg" alt="Eff 5"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_6.jpg" alt="Eff 6"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_7.jpg" alt="Eff 7"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_8.jpg" alt="Eff 8"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_9.jpg" alt="Eff 9"></div>
                    <div class="modal-img-wrapper ratio-square" onclick="openLightbox(this)"><img src="image/eff_10.jpg" alt="Eff 10"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-control" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('modal-control')">&times;</span>
            <div class="modal-header"><h3>Quản Lý & Giám Sát Từ Xa</h3></div>
            <div class="modal-body">
                <p>Ứng dụng <strong>SMARTFLOW</strong> mang đến công cụ hỗ trợ đắc lực cho lực lượng Cảnh sát giao thông và đơn vị vận hành. Hệ thống không chỉ tự động hóa mà còn cho phép sự can thiệp của con người khi cần thiết:</p>
                <ul>
                    <li>Giám sát trạng thái hoạt động của đèn tín hiệu theo thời gian thực.</li>
                    <li>Hỗ trợ chuyển đổi chế độ điều khiển thủ công (Manual) từ xa để phục vụ các đoàn xe ưu tiên hoặc xử lý sự cố khẩn cấp mà không cần thao tác trực tiếp tại tủ điện.</li>
                </ul>
                <div class="modal-grid-2">
                    <div class="modal-img-wrapper ratio-16-9" onclick="openLightbox(this)"><img src="image/control_1.jpg" alt="App Control 1"><div class="caption">Giao diện đăng nhập & Giám sát</div></div>
                    <div class="modal-img-wrapper ratio-16-9" onclick="openLightbox(this)"><img src="image/control_2.jpg" alt="App Control 2"><div class="caption">Giao diện điều khiển thủ công</div></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleMenu() { document.querySelector('.nav-links').classList.toggle('active'); }
        document.querySelectorAll('.nav-links a').forEach(link => { link.addEventListener('click', () => { document.querySelector('.nav-links').classList.remove('active'); }); });
        function updateCarVal(val) { document.getElementById('carValue').innerText = val; }

        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('show');
            document.body.style.overflow = 'hidden'; 
        }
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('show');
            document.body.style.overflow = 'auto'; 
        }
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
        }

        function openLightbox(element) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const imgSrc = element.querySelector('img').src;
            lightbox.style.display = "flex"; 
            lightboxImg.src = imgSrc;
        }
        function closeLightbox() { document.getElementById('lightbox').style.display = "none"; }

        const GT_MIN = 15, GT_MAX = 50, N_MIN = 5, N_MAX = 50;
        let simInterval;

        function runSim() {
            const n = parseInt(document.getElementById('carSlider').value);
            const status = document.getElementById('aiStatus');
            const scanOverlay = document.getElementById('aiScan');
            const timerDisplay = document.getElementById('timer');
            const btn = document.querySelector('.btn-main');
            
            document.getElementById('l-red').classList.remove('on');
            document.getElementById('l-yellow').classList.remove('on');
            document.getElementById('l-green').classList.remove('on');
            clearInterval(simInterval);
            timerDisplay.innerText = "--";
            btn.disabled = true; btn.style.opacity = "0.5";

            status.innerText = "> ĐANG QUÉT & PHÂN TÍCH DỮ LIỆU...";
            scanOverlay.style.display = "block";

            setTimeout(() => {
                scanOverlay.style.display = "none";
                let gtNext = 0;
                if (n <= N_MIN) gtNext = GT_MIN;
                else if (n >= N_MAX) gtNext = GT_MAX;
                else gtNext = GT_MIN + ((n - N_MIN) / (N_MAX - N_MIN)) * (GT_MAX - GT_MIN);
                gtNext = Math.round(gtNext);
                status.innerHTML = `> KẾT QUẢ: <span style="color:#fff">N=${n}</span> → GREEN TIME: <span style="color:var(--primary)">${gtNext}s</span>`;
                runGreen(gtNext);
                btn.disabled = false; btn.style.opacity = "1";
            }, 1500);
        }

        function runGreen(time) {
            const green = document.getElementById('l-green');
            const timer = document.getElementById('timer');
            green.classList.add('on');
            let t = time; timer.innerText = t;
            simInterval = setInterval(() => {
                t--; timer.innerText = t;
                if(t <= 0) { clearInterval(simInterval); runYellow(); }
            }, 100);
        }

        function runYellow() {
            document.getElementById('l-green').classList.remove('on');
            document.getElementById('l-yellow').classList.add('on');
            document.getElementById('timer').innerText = "3";
            document.getElementById('aiStatus').innerText = "> CHUYỂN PHA: VÀNG (GIẢM TỐC)";
            setTimeout(() => {
                document.getElementById('l-yellow').classList.remove('on');
                document.getElementById('l-red').classList.add('on');
                document.getElementById('timer').innerText = "--";
                document.getElementById('aiStatus').innerText = "> CHUYỂN PHA: ĐỎ (DỪNG)";
            }, 1000);
        }
    </script>
</body>
</html>